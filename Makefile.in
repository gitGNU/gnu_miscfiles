# Makefile for GNU miscfiles
#   Copyright (C) 2001, 2004, 2005 Free Software Foundation, Inc.
#   Written by Thomas Bushnell, BSG.
#
#   This file is part of the GNU miscfiles.
#
#   GNU miscfiles are free software; you can redistribute it and/or
#   modify it under the terms of the GNU General Public License as
#   published by the Free Software Foundation; either version 2, or (at
#   your option) any later version.
#
#   GNU miscfiles is distributed in the hope that it will be useful, but
#   WITHOUT ANY WARRANTY; without even the implied warranty of
#   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
#   General Public License for more details.
#
#   You should have received a copy of the GNU General Public License
#   along with this program; if not, write to the Free Software
#   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111, USA.

SHELL=/bin/sh

srcdir = @srcdir@
VPATH = @srcdir@

INSTALL=@INSTALL@
INSTALL_DATA=@INSTALL_DATA@

prefix=@prefix@

datadir=$(prefix)/share

MKINSTALLDIRS = $(srcdir)/mkinstalldirs

version=1.5

dictfiles=connectives web2 web2a propernames
miscfiles=airport ascii birthtoken inter.phone na.phone operator \
	abbrevs.talk abbrevs.gen cities.dat na.postalcodes GNU-manifesto \
	mailinglists languages latin1 currency countries unicode
rfcfiles=rfc-index.txt std-index.txt fyi-index.txt bcp-index.txt

distfiles=$(dictfiles) $(miscfiles) $(rfcfiles) \
	Makefile.in configure dict-README \
	configure.in mkinstalldirs install-sh ORIGIN README INSTALL \
	NEWS ChangeLog COPYING unicode-license ANNOUNCE

all:

install: installdirs all
	for i in $(dictfiles); do \
	  $(INSTALL_DATA) $(srcdir)/$$i $(datadir)/dict/$$i ; \
	done
	$(INSTALL_DATA) $(srcdir)/dict-README $(datadir)/dict/README
	rm -f $(datadir)/dict/words
	ln $(datadir)/dict/web2 $(datadir)/dict/words
	for i in $(miscfiles); do \
	  $(INSTALL_DATA) $(srcdir)/$$i $(datadir)/misc/$$i ; \
	done
	for i in $(rfcfiles); do \
	  $(INSTALL_DATA) $(srcdir)/$$i $(datadir)/rfc/$$i ; \
	done

install-strip: install

uninstall:
	for i in $(dictfiles); do \
	  rm -f $(datadir)/dict/$$i ; \
	done
	rm -f $(datadir)/dict/README $(datadir)/dict/words
	for i in $(miscfiles); do \
	  rm -f $(datadir)/misc/$$i ; \
	done
	for i in $(rfcfiles); do \
	  rm -f $(datadir)/rfc/$$i ; \
	done

installdirs:
	$(MKINSTALLDIRS) $(datadir)/dict $(datadir)/misc \
		$(datadir)/rfc

Makefile: Makefile.in config.status
	$(SHELL) config.status

config.status: configure
	$(srcdir)/configure --no-create

dist: $(distfiles)
	rm -rf miscfiles-$(version)
	mkdir miscfiles-$(version)
	for i in $(distfiles); do \
	  ln $(srcdir)/$$i miscfiles-$(version)/$i ; \
	done
	tar -cho --gzip -f miscfiles-$(version).tar.gz miscfiles-$(version)
	rm -rf miscfiles-$(version)

mostlyclean:
clean:
TAGS:
info:
dvi:
check:

maintainer-clean distclean:
	rm -f Makefile config.status config.cache config.log

